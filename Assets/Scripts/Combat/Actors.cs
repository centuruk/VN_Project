using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Actors : MonoBehaviour
{
    private List<Actor> actors = new List<Actor>();

    //?? ?? ???.

    public void RegistedActors(Actor actor)
    {
        if (actors.Contains(actor)) return;

        actors.Add(actor);
    }

    public void RemovedActors(Actor actor)
    {
        if (actors.Contains(actor))
        {
            actors.Remove(actor);
        }
    }

    public Actor GetTarget(Actor actor, TargetSelectType type)
    {
        //??? ??? ??? ??? ????? ?? ???? ??? ????.
        if (actors.Count <= 0) return null;

        //?? ?????? ???? ?????? ???????? ??????.
        //?? ?? ??? ?,

        Actor resultActor = new Actor();

        float dist = Mathf.Infinity;
        for (int i = 0; i < actors.Count; i++)
        {
            if (actors[i].type == actor.type) continue;

            float far = Vector2.Distance(actors[i].transform.position, actor.transform.position);
            if(far <= dist)
            {
                dist = far;
                resultActor = actors[i];
            }
        }
        return resultActor;
    }

    //?? ?????? ?????? ?????? ??????.
    //????????(???? ??????) ???? ??????(???? ??)
    //???? Hp?? ?????? ???? ????
    //?????? ???? ???? ???? ???? ????
}
